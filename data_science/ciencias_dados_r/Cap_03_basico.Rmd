---
title: "Cap. 03 Basico"
output:
  html_document: default
  pdf_document: default
---


## Livro curso R

<https://livro.curso-r.com/3-r-base.html>


## Pedindo ajuda

```{r pressure, echo=FALSE}
?mean
```


```{r pressure, echo=FALSE}
help(mean)
```

## R como calculadora

```{r pressure, echo=FALSE}
# adicao
1 + 1

# subtracao
4 - 2

# multiplicacao
2 * 3

# divisao
5 / 3
```

Exercício

```{r pressure, echo=FALSE}
num <- (1 + sqrt(5)) / 2

num
```
## 3.3 Objetos e funções


## 3.4 Data frames

```{r pressure, echo=FALSE}
mtcars

```

```{r pressure, echo=FALSE}
head(mtcars)

```

## 3.5 Classes

```{r pressure, echo=FALSE}
class(mtcars)

```
As classes mais básicas dentro do R são:

* numeric
* character
* logical

Exercicio:

```{r pressure, echo=FALSE}
nome <- "Renato Godoi da Cruz"
cidade <- "Araras"
estado <- "São Paulo"

nchar(nome)

```
```{r pressure, echo=FALSE}
paste(cidade, estado)

```



```{r pressure, echo=FALSE}
paste(cidade, estado, sep = " - ")

```

```{r pressure, echo=FALSE}
paste(cidade,  " - ", estado)

```
```{r pressure, echo=FALSE}
paste0(cidade,  " - ", estado)

```

## 3.6 Vetores

São estruturas muito importantes dentro do R. Em especial, pensando em análise
de dados, precisamos estudá-los pois cada coluna de um *data frame* será repre-
senda como um vetor.

```{r pressure, echo=FALSE}
vetor1 <- c(1, 5, 3, -10)
vetor2 <- c("a", "b", "c")

vetor1

```
```{r pressure, echo=FALSE}
#vetor de 1 a 10

1:10

```


```{r pressure, echo=FALSE}
# vetor de -3 a 3

-3:3

```


```{r pressure, echo=FALSE}
vetor1[2]

```

```{r pressure, echo=FALSE}
vetor1[c(1, 2, 4)]

```

Um vetor só pode guardar um tipo de objeto.Se tentarmos misturar duas classes, o
R vai apresentar o comportamento conhecido como **coerção**

```{r pressure, echo=FALSE}
vetor3 <- c(1, 2, "a")

```


```{r pressure, echo=FALSE}
vetor3

```

```{r pressure, echo=FALSE}
class(vetor3)

```
Podemos fazer operações com vetores

```{r pressure, echo=FALSE}
vetor4 <- c(0, 5, 20, -3)
vetor4 + 1

```
```{r pressure, echo=FALSE}
vetor4 * 10

```
```{r pressure, echo=FALSE}
vetor5 <- c(1, 2, 3)
vetor6 <- c(10, 20, 30)

vetor5 + vetor6

```
Neste caso, o R irá alinhar os dois vetores e somar elemento a elemeto. Esse 
tipo de comportamento é chamado de **vetorização**

Exercício

```{r pressure, echo=FALSE}
vet <- c(0:5)

vet[c(1, 6)]

```
```{r pressure, echo=FALSE}
vet_negativo <- vet * -1

```

```{r pressure, echo=FALSE}
frutas <- c("banana", "maça", "mamão")
frutas

```

```{r pressure, echo=FALSE}
length(frutas)

```
```{r pressure, echo=FALSE}
paste("Eu gosto de", frutas)

```

```{r pressure, echo=FALSE}
sum(1:100)

```

```{r pressure, echo=FALSE}
dolar_subiu <- c(TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, TRUE)

```


```{r pressure, echo=FALSE}
length(dolar_subiu)
dolar_subiu[2]
sum(dolar_subiu)
mean(dolar_subiu)


```
## 3.7 Testes lógicos

Poder fazer qualquer tipo de operação lógica é um dos motivos pelos quais 
programas nos deixar mais eficientes.Dê bastante atenção a elas, pois usaremos
comparações lógicas o tempo todo.

```{r pressure, echo=FALSE}
TRUE <- 1

```
```{r pressure, echo=FALSE}
TRUE <- 0

```
TRUE e FALSE são exclusivos. Não dá para atribuir valores.

Checando a classe desses valores, vemos que são lógicos

```{r pressure, echo=FALSE}
class(TRUE)

```
Explorando os testes lógicos

```{r pressure, echo=FALSE}
# Testes com resultado verdadeiro

1 == 1
"a" == "a"

# Teste com resultado falso
"a" == "b"
1 == 2

```
Teste valores diferentes
```{r pressure, echo=FALSE}
1 != 1
"a" != "a"
1 !=2
"a" != "b"
```
Para comparar se um valor é maior que outro
```{r pressure, echo=FALSE}
3 > 3
3 >= 3
3 < 3
3 <= 3

```
Outro operador muito útil é o %in%. Com ele, podemos verificar se um valor está 
dentro de um conjunto de valores (vetor)

```{r pressure, echo=FALSE}
3 %in% c(1, 2, 3)
"a" %in% c("b", "c")

```
Testes lógicos fazem parte de uma operação muito comum na manipulação de base
de dados: os **filtros**

```{r pressure, echo=FALSE}
minha_coluna <- c(1, 3, 0, 10, -1, 5, 20)

minha_coluna > 3              # primero teste           

minha_coluna[minha_coluna > 3]# segundo teste
```
No primeiro teste, R transformou (reciclou) o valor 3 no vetor c(3, 3, 3, 3, 3, 3
3) e testou se c(1, 3, 0, 10, -1, 5, 20) > c(3, 3, 3, 3, 3, 3, 3).

Como os operadores lógicos também são vetorizados (fazem operações elemento a 
elemento), os testes realizados foram 1 > 3, 3 > 3, 0 > 3, 10 > 3, -1 > 3, 
5 > 3 e, finalmente, 20 > 3. Cada um desses testes tem o seu prório resultado.
Por isso a saída de minha_coluna > 3 é um vetor de verdadeiros e falsos, respectivos
a cada um desses 7 testes.

O segundo teste usa os valores TRUE e FALSE para selecionar elementos de um vetor.
A regra é muito simples: **retornar** as posições que receberem TRUE, **não retornar** as posições que recberem FALSE. Portanto, a segunda operação é equivalente a:

minha_coluna[c(F, F, F, T, F, T, T)]
## [1] 10 5 20

>>Tabela dos principais operadores lógicos<<

Exercícios
```{r pressure, echo=FALSE}
segredo <- round(runif(1, min = 0, max = 10))
```

```{r pressure, echo=FALSE}
# testando se o segredo é maior ou igual a 0

segredo[segredo >= 0]
```
```{r pressure, echo=FALSE}
segredo[segredo <= 10]
```

# 3.8 Valores especiais

```{r pressure, echo=FALSE}
vetor <- c(1, 2, 3)

vetor[4]

```
Esse valor (NA) é tratado de forma especial no R. Ele representa a ausência de 
informaçõe, isto é, a informação existe, mas nós (e o R) não sabemos qual é.

O NA para o R nada mais é do que o valor faltante ou omisso da Estatítica.
```{r pressure, echo=FALSE}
5 == NA

```
O código acima pergunta "cinco é igual a um valor que existe, mas que não sei 
qual é?"

Outro exemplo

```{r pressure, echo=FALSE}
idade_ana <- 30
idade_beto <- NA
idade_carla <- NA

idade_ana == idade_beto

```
Eu sei a idade da ana, mas como vou saber a idade de beto

```{r pressure, echo=FALSE}
idade_carla == idade_beto

```
Não sabemos a idade de carla ou beto

Mas e quando queremos saber se um valor é NA ou não?

```{r pressure, echo=FALSE}
is.na(NA)

```
```{r pressure, echo=FALSE}
is.na(idade_ana)

```
```{r pressure, echo=FALSE}
is.na(idade_beto)

```
Assim como NA, existem outros valores especiais muito comuns no R
O NaN (not a number) representa indefições matemáticas

```{r pressure, echo=FALSE}
0/0

```
```{r pressure, echo=FALSE}
log(-1)

```





